<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Patching Bus IDs | OpenCore Post-Install</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="&#39;stylesheet" href="/OpenCore-Post-Install/styles/website.css">
    <meta name="description" content="OpenCore Post-Install guide">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/OpenCore-Post-Install/assets/css/0.styles.f6e5c635.css" as="style"><link rel="preload" href="/OpenCore-Post-Install/assets/js/app.aa7ee585.js" as="script"><link rel="preload" href="/OpenCore-Post-Install/assets/js/2.35cd12da.js" as="script"><link rel="preload" href="/OpenCore-Post-Install/assets/js/29.81431a61.js" as="script"><link rel="preload" href="/OpenCore-Post-Install/assets/js/37.1c883631.js" as="script"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/10.dcc5c26d.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/11.7039bcda.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/12.625f686e.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/13.7ee9b922.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/14.39e13cb7.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/15.9deffed8.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/16.39372a7c.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/17.a8fcb416.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/18.5be8f95c.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/19.ed9d92c5.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/20.9ab5b83c.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/21.4e7eefb2.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/22.c608ecd4.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/23.66bb262e.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/24.3193137c.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/25.5d27ef25.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/26.ff289d8a.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/27.bf845248.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/28.bcdeb9bb.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/3.d36027f0.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/30.543ab43c.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/31.79232d68.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/32.32382ca8.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/33.5914b1a2.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/34.8e89f359.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/35.7ccacb3c.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/36.2ef9ee5b.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/38.bef9aa43.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/39.1a151fa9.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/4.5c005734.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/40.14841d1a.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/41.a6748916.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/42.6e0990c9.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/43.eba02f9e.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/44.23b17ff5.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/45.4b0a5129.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/46.cb5b6867.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/47.ae3eaa71.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/48.30b00d72.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/49.bb875d32.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/5.4c7d12e1.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/50.ac7beed8.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/51.b63f0f03.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/6.fa74f928.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/7.894e5167.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/8.463bf513.js"><link rel="prefetch" href="/OpenCore-Post-Install/assets/js/9.2b567529.js">
    <link rel="stylesheet" href="/OpenCore-Post-Install/assets/css/0.styles.f6e5c635.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/OpenCore-Post-Install/" class="home-link router-link-active"><img src="/OpenCore-Post-Install/homepage.png" alt="OpenCore Post-Install" class="logo"> <span class="site-name can-hide">OpenCore Post-Install</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Dortania Guides" class="dropdown-title"><span class="title">Dortania Guides</span> <span class="arrow down"></span></button> <button type="button" aria-label="Dortania Guides" class="mobile-dropdown-title"><span class="title">Dortania Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://dortania.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home Site
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/OpenCore-Install-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OpenCore Install Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/Getting-Started-With-ACPI/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Getting Started With ACPI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/GPU-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GPU Buyers Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/Wireless-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Wireless Buyers Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/Anti-Hackintosh-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Anti Buyers Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <div class="nav-item"><a role="button" aria-label="Switch to light mode" class="nav-link"><span>Switch theme</span></a></div> <a href="https://github.com/dortania/OpenCore-Post-Install" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Dortania Guides" class="dropdown-title"><span class="title">Dortania Guides</span> <span class="arrow down"></span></button> <button type="button" aria-label="Dortania Guides" class="mobile-dropdown-title"><span class="title">Dortania Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://dortania.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home Site
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/OpenCore-Install-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OpenCore Install Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/Getting-Started-With-ACPI/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Getting Started With ACPI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/GPU-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GPU Buyers Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/Wireless-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Wireless Buyers Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/Anti-Hackintosh-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Anti Buyers Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <div class="nav-item"><a role="button" aria-label="Switch to light mode" class="nav-link"><span>Switch theme</span></a></div> <a href="https://github.com/dortania/OpenCore-Post-Install" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Introduction</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/" aria-current="page" class="sidebar-link">OpenCore Post-Install</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Universal</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/universal/audio.html" class="sidebar-link">Fixing Audio</a></li><li><a href="/OpenCore-Post-Install/universal/oc2hdd.html" class="sidebar-link">Booting without USB</a></li><li><a href="/OpenCore-Post-Install/universal/update.html" class="sidebar-link">Updating OpenCore, kexts and macOS</a></li><li><a href="/OpenCore-Post-Install/universal/drm.html" class="sidebar-link">Fixing DRM</a></li><li><a href="/OpenCore-Post-Install/universal/iservices.html" class="sidebar-link">Fixing iServices</a></li><li><a href="/OpenCore-Post-Install/universal/pm.html" class="sidebar-link">Fixing Power Management</a></li><li><a href="/OpenCore-Post-Install/universal/sleep.html" class="sidebar-link">Fixing Sleep</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>USB Fixes</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/usb/" class="sidebar-link">USB Mapping: Introduction</a></li><li><a href="/OpenCore-Post-Install/usb/system-preparation.html" class="sidebar-link">System Preparation</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>USB Mapping</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Miscellaneous Fixes</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Security</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/universal/security.html" class="sidebar-link">Security and FileVault</a></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/universal/security/filevault.html" class="sidebar-link">FileVault</a></li><li><a href="/OpenCore-Post-Install/universal/security/vault.html" class="sidebar-link">Vault</a></li><li><a href="/OpenCore-Post-Install/universal/security/scanpolicy.html" class="sidebar-link">ScanPolicy</a></li><li><a href="/OpenCore-Post-Install/universal/security/applesecureboot.html" class="sidebar-link">Apple Secure Boot</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Laptop Specifics</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/laptop-specific/battery.html" class="sidebar-link">Fixing Battery Read-outs</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Cosmetics</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/cosmetic/verbose.html" class="sidebar-link">Fixing Resolution and Verbose</a></li><li><a href="/OpenCore-Post-Install/cosmetic/gui.html" class="sidebar-link">Add GUI and Boot-chime</a></li><li><a href="/OpenCore-Post-Install/universal/memory.html" class="sidebar-link">Fixing MacPro7,1 Memory Errors</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Multiboot</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/multiboot/bootstrap.html" class="sidebar-link">Setting up Bootstrap.efi</a></li><li><a href="/OpenCore-Post-Install/multiboot/bootcamp.html" class="sidebar-link">Installing BootCamp</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Miscellaneous</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/misc/rtc.html" class="sidebar-link">Fixing RTC</a></li><li><a href="/OpenCore-Post-Install/misc/msr-lock.html" class="sidebar-link">Fixing CFG Lock</a></li><li><a href="/OpenCore-Post-Install/misc/nvram.html" class="sidebar-link">Emulated NVRAM</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>GPU Patching</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/gpu-patching/" aria-current="page" class="sidebar-link">In-depth GPU patching</a></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>Modern Intel iGPU</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/gpu-patching/intel-patching/" aria-current="page" class="sidebar-link">Intro to iGPU patching</a></li><li><a href="/OpenCore-Post-Install/gpu-patching/intel-patching/vram.html" class="sidebar-link">VRAM patching</a></li><li><a href="/OpenCore-Post-Install/gpu-patching/intel-patching/connector.html" class="sidebar-link">Connector-type patching</a></li><li><a href="/OpenCore-Post-Install/gpu-patching/intel-patching/busid.html" aria-current="page" class="active sidebar-link">BusID patching</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/OpenCore-Post-Install/gpu-patching/intel-patching/busid.html#parsing-the-framebuffer" class="sidebar-link">Parsing the framebuffer</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Post-Install/gpu-patching/intel-patching/busid.html#mapping-the-video-ports" class="sidebar-link">Mapping the video ports</a></li></ul></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Legacy Intel iGPU</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/gpu-patching/legacy-intel/" class="sidebar-link">GMA Patching</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Legacy Nvidia</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Post-Install/gpu-patching/nvidia-patching/" class="sidebar-link">Nvidia Patching</a></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-succinct-content content__default"><h1 id="patching-bus-ids"><a href="#patching-bus-ids" class="header-anchor">#</a> Patching Bus IDs</h1> <p>This section is mainly relevant for those who cannot use certain display outputs regardless of the connector-type or SMBIOS patch, as Apple has hardcoded the output BusIDs in a way that doesn't match your hardware. To resolve, we'll be manually patching these bus IDs into supporting our hardware.</p> <p>This page will be a bit more technical as we've assumed you've read through the previous pages and have a decent grasp of WhateverGreen.</p> <ul><li><a href="/OpenCore-Post-Install/gpu-patching/intel-patching/connector.html">Patching the display type</a></li> <li><a href="/OpenCore-Post-Install/gpu-patching/intel-patching/vram.html">Patching the VRAM requirement of macOS</a></li></ul> <h2 id="parsing-the-framebuffer"><a href="#parsing-the-framebuffer" class="header-anchor">#</a> Parsing the framebuffer</h2> <p>To start, let's assume we're using a Z390 board with a UHD 630. This system is iGPU-only in macOS and has issues with using certain display-outs, and is using the <code>0x3E9B0007</code> framebuffer.</p> <p>When we look at this framebuffer from <a href="https://github.com/acidanthera/WhateverGreen/blob/master/Manual/FAQ.IntelHD.en.md" target="_blank" rel="noopener noreferrer">WhateverGreen's manual<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, we see the following:</p> <div class="language- extra-class"><pre class="language-text"><code>ID: 3E9B0007, STOLEN: 57 MB, FBMEM: 0 bytes, VRAM: 1536 MB, Flags: 0x00801302
TOTAL STOLEN: 58 MB, TOTAL CURSOR: 1 MB (1572864 bytes), MAX STOLEN: 172 MB, MAX OVERALL: 173 MB (181940224 bytes)
GPU Name: Intel UHD Graphics 630
Model Name(s):
Camelia: Disabled
Mobile: 0, PipeCount: 3, PortCount: 3, FBMemoryCount: 3
[1] busId: 0x05, pipe: 9, type: 0x00000400, flags: 0x000003C7 - DP
[2] busId: 0x04, pipe: 10, type: 0x00000400, flags: 0x000003C7 - DP
[3] busId: 0x06, pipe: 8, type: 0x00000400, flags: 0x000003C7 - DP
01050900 00040000 C7030000
02040A00 00040000 C7030000
03060800 00040000 C7030000
</code></pre></div><p>Now let's parse it down to the BudID information, as this is what we will be patching:</p> <div class="language- extra-class"><pre class="language-text"><code>[1] busId: 0x05, pipe: 9, type: 0x00000400, flags: 0x000003C7 - DP
[2] busId: 0x04, pipe: 10, type: 0x00000400, flags: 0x000003C7 - DP
[3] busId: 0x06, pipe: 8, type: 0x00000400, flags: 0x000003C7 - DP
01050900 00040000 C7030000
02040A00 00040000 C7030000
03060800 00040000 C7030000
</code></pre></div><p>Here we see that this framebuffer personality has 3 Bus IDs listed, let's try to break them down to be a bit more understandable. Let's take entry 1:</p> <div class="language- extra-class"><pre class="language-text"><code>[1] busId: 0x05, pipe: 9, type: 0x00000400, flags: 0x000003C7 - DP
01050900 00040000 C7030000
</code></pre></div><table><thead><tr><th style="text-align:left;">Bit</th> <th style="text-align:left;">Name</th> <th style="text-align:left;">Value</th></tr></thead> <tbody><tr><td style="text-align:left;">Bit 1</td> <td style="text-align:left;">Port</td> <td style="text-align:left;">01</td></tr> <tr><td style="text-align:left;">Bit 2</td> <td style="text-align:left;">Bus ID</td> <td style="text-align:left;">05</td></tr> <tr><td style="text-align:left;">Bit 3-4</td> <td style="text-align:left;">Pipe Number</td> <td style="text-align:left;">0900</td></tr> <tr><td style="text-align:left;">Bit 5-8</td> <td style="text-align:left;">Connector Type</td> <td style="text-align:left;">00040000</td></tr> <tr><td style="text-align:left;">Bit 9-12</td> <td style="text-align:left;">Flags</td> <td style="text-align:left;">C7030000</td></tr></tbody></table> <p>Things to keep in mind:</p> <ul><li>BusID is a unique value and cannot be used by multiple entries</li> <li>Connector-type values are the same as discussed in the <a href="/OpenCore-Post-Install/gpu-patching/intel-patching/connector.html">Connector-type patching page</a></li></ul> <h2 id="mapping-the-video-ports"><a href="#mapping-the-video-ports" class="header-anchor">#</a> Mapping the video ports</h2> <p>Here we have 2 sections:</p> <ul><li><a href="#mapping-withinb-macos">Mapping within macOS</a> <ul><li>You can boot macOS and use at least 1 display</li></ul></li> <li><a href="#mapping-without-macos">Mapping without macOS</a> <ul><li>Blackscreen on all displays</li></ul></li></ul> <h3 id="mapping-within-macos"><a href="#mapping-within-macos" class="header-anchor">#</a> Mapping within macOS</h3> <p>Mapping videos in macOS is fairly easy, as we can assume that one of our ports is mapped correctly in the framebuffer.</p> <p>For this example, we'll explain the common <a href="https://dortania.github.io/OpenCore-Install-Guide/config-laptop.plist/kaby-lake.html#deviceproperties" target="_blank" rel="noopener noreferrer">HDMI-hotplug fix for Kaby lake users<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. To start, lets look at the 0x591B0000 framebuffer:</p> <div class="language- extra-class"><pre class="language-text"><code>ID: 591B0000, STOLEN: 38 MB, FBMEM: 21 MB, VRAM: 1536 MB, Flags: 0x0000130B
TOTAL STOLEN: 39 MB, TOTAL CURSOR: 1 MB (1572864 bytes), MAX STOLEN: 136 MB, MAX OVERALL: 137 MB (144191488 bytes)
Model name: Intel HD Graphics KBL CRB
Camellia: CamelliaDisabled (0), Freq: 1388 Hz, FreqMax: 1388 Hz
Mobile: 1, PipeCount: 3, PortCount: 3, FBMemoryCount: 3
[0] busId: 0x00, pipe: 8, type: 0x00000002, flags: 0x00000098 - ConnectorLVDS
[2] busId: 0x04, pipe: 10, type: 0x00000800, flags: 0x00000187 - ConnectorHDMI
[3] busId: 0x06, pipe: 10, type: 0x00000400, flags: 0x00000187 - ConnectorDP
00000800 02000000 98000000
02040A00 00080000 87010000
03060A00 00040000 87010000
</code></pre></div><p>Here we see that entry 2 is the HDMI port however on a real Kaby lake laptop it's very common for hot plug to kernel panic the machine. This is due to the bus ID and port not aligning perfectly with the hardware.</p> <p>To resolve, we'll want to patch it to something more appropriate(ie. 0204 to 0105, these have been tested to work properly)</p> <p>There are 2 ways to patch:</p> <ul><li><a href="#replace-the-entire-entry">Replace the entire entry</a></li> <li><a href="#replace-sectons-of-the-entry">Replace sections of the entry</a></li></ul> <h4 id="replace-the-entire-entry"><a href="#replace-the-entire-entry" class="header-anchor">#</a> Replace the entire entry</h4> <p>To replace the entire entry, we'll first want to locate our entry and ensure it's enumerated correctly. This is because Apple's has entries starting at 0 and progresses through that:</p> <ul><li>con0</li> <li>con1</li> <li>con2</li></ul> <p>So since entry 2 is the second in the list, we'll want to use con1:</p> <ul><li>framebuffer-con2-enable</li></ul> <p>Next lets make the patch, we know that port needs to be patched to 01 and BusID changed to 05:</p> <ul><li><strong>0105</strong>0A00 00080000 87010000</li></ul> <p>And finally, we're given the following patches:</p> <div class="language- extra-class"><pre class="language-text"><code>framebuffer-patch-enable | Data | 01000000
framebuffer-con2-enable  | Data | 01000000
framebuffer-con2-alldata | Data | 01050A00 00080000 87010000
</code></pre></div><h4 id="replace-sections-of-the-entry"><a href="#replace-sections-of-the-entry" class="header-anchor">#</a> Replace sections of the entry</h4> <p>To replace sections of the entry, we'll first want to locate our entry and ensure it's enumerated correctly. This is because Apple's has entries starting at 0 and progresses through that:</p> <ul><li>con0</li> <li>con1</li> <li>con2</li></ul> <p>So since entry 2 is the second in the list, we'll want to use con1:</p> <ul><li>framebuffer-con2-enable</li></ul> <p>Next lets make the patch, we know that port needs to be patched to 01 and BusID changed to 05:</p> <ul><li>framebuffer-con2-index = 01</li> <li>framebuffer-con2-busid = 05</li></ul> <p>And finally, we get these patches:</p> <div class="language- extra-class"><pre class="language-text"><code>framebuffer-patch-enable | Data | 01000000
framebuffer-con2-enable  | Data | 01000000
framebuffer-con2-index   | Data | 01
framebuffer-con2-busid   | Data | 05
</code></pre></div><h3 id="mapping-without-macos"><a href="#mapping-without-macos" class="header-anchor">#</a> Mapping without macOS</h3> <p>Mapping your display outs is fairly simple, <em>however</em> is quite time consuming as you need to try every BusID value until you get an output.</p> <p>For this example, we'll use the 0x3E9B0007 framebuffer again.</p> <div class="language- extra-class"><pre class="language-text"><code>[1] busId: 0x05, pipe: 9, type: 0x00000400, flags: 0x000003C7 - DP
[2] busId: 0x04, pipe: 10, type: 0x00000400, flags: 0x000003C7 - DP
[3] busId: 0x06, pipe: 8, type: 0x00000400, flags: 0x000003C7 - DP
01050900 00040000 C7030000
02040A00 00040000 C7030000
03060800 00040000 C7030000
</code></pre></div><p>To start, we'll be trying to go through entry 1's BusIDs in hope we find working value.</p> <h5 id="_1-here-plug-in-your-hdmi-display"><a href="#_1-here-plug-in-your-hdmi-display" class="header-anchor">#</a> 1. Here plug in your HDMI display</h5> <h5 id="_2-set-port-1-to-the-hdmi-connector-type"><a href="#_2-set-port-1-to-the-hdmi-connector-type" class="header-anchor">#</a> 2. Set Port 1 to the HDMI connector type</h5> <ul><li>01xx0900 <strong>00080000</strong> C7030000</li></ul> <details class="custom-block details"><summary>Supported Connector Types</summary> <p>Common connector types supported in macOS</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;02 00 00 00&gt;        LVDS and eDP      - Laptop displays
&lt;10 00 00 00&gt;        VGA               - Unsupported in 10.8 and newer
&lt;00 04 00 00&gt;        DisplayPort       - USB-C display-out are DP internally
&lt;01 00 00 00&gt;        DUMMY             - Used when there is no physical port
&lt;00 08 00 00&gt;        HDMI
&lt;80 00 00 00&gt;        S-Video
&lt;04 00 00 00&gt;        DVI (Dual Link)
&lt;00 02 00 00&gt;        DVI (Single Link)
</code></pre></div><p>Reminder that VGA on Skylake and newer are actually DisplayPort internally, so use that connector type instead.</p></details> <h5 id="_3-disable-ports-2-and-3-with-busid-00"><a href="#_3-disable-ports-2-and-3-with-busid-00" class="header-anchor">#</a> 3. Disable ports 2 and 3 with busid=00</h5> <ul><li>02<strong>00</strong>0A00 00040000 C7030000</li> <li>03<strong>00</strong>0800 00040000 C7030000</li></ul> <h5 id="_4-walk-through-busids-for-port-1-if-the-previous-didn-t-work-the-maximum-busid-on-most-platforms-generally-0x06"><a href="#_4-walk-through-busids-for-port-1-if-the-previous-didn-t-work-the-maximum-busid-on-most-platforms-generally-0x06" class="header-anchor">#</a> 4. Walk through busids for Port 1 if the previous didn't work. The maximum busid on most platforms generally 0x06</h5> <ul><li>01<strong>01</strong>0900 00080000 C7030000</li> <li>01<strong>02</strong>0900 00080000 C7030000</li> <li>01<strong>03</strong>0900 00080000 C7030000</li> <li>etc</li></ul> <p>If you still get no output, set port 1's busid to 00 and start going through busids for port 2 and so on</p> <ul><li>port 1 = 01000900 00040000 C7030000</li> <li>port 2 = 02<strong>xx</strong>0A00 00080000 C7030000</li> <li>port 3 = 03000800 00040000 C7030000</li></ul> <h4 id="adding-to-your-config-plist"><a href="#adding-to-your-config-plist" class="header-anchor">#</a> Adding to your config.plist</h4> <p>You'll now want to add the following patches to <code>DeviceProperteies -&gt; Add -&gt; PciRoot(0x0)/Pci(0x2,0x0)</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>framebuffer-patch-enable | Data | 01000000
framebuffer-con0-enable  | Data | 01000000
framebuffer-con1-enable  | Data | 01000000
framebuffer-con2-enable  | Data | 01000000
framebuffer-con0-alldata | Data | port 1 (ie. 01010900 00080000 C7030000)
framebuffer-con1-alldata | Data | port 2 (ie. 02000A00 00040000 C7030000)
framebuffer-con2-alldata | Data | port 3 (ie. 03000800 00040000 C7030000)
</code></pre></div><p>Note that:</p> <ul><li>port 1 would be labeled as con0</li> <li>port 1's BusID is set to 01</li> <li>port 2 and 3's BusID are set to 00, disabling them</li></ul> <p>When done, you should get something similar:</p> <p><img src="/OpenCore-Post-Install/assets/img/path-done.ceae32b9.png" alt=""></p> <p>And as mentioned before, if this combo doesn't work, increment port 1's BusID and if that doesn't work disable port 1's busID and try port 2 and so forth.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/19/2020, 10:37:25 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ⟵
      <a href="/OpenCore-Post-Install/gpu-patching/intel-patching/connector.html" class="prev">
        Connector-type patching
      </a></span> <span class="next"><a href="/OpenCore-Post-Install/gpu-patching/legacy-intel/">
        GMA Patching
      </a>
      ⟶
    </span></p></div> </main></div><div class="global-ui"><div style="visibility:hidden;display:none;"></div><!----></div></div>
    <script src="/OpenCore-Post-Install/assets/js/app.aa7ee585.js" defer></script><script src="/OpenCore-Post-Install/assets/js/2.35cd12da.js" defer></script><script src="/OpenCore-Post-Install/assets/js/29.81431a61.js" defer></script><script src="/OpenCore-Post-Install/assets/js/37.1c883631.js" defer></script>
  </body>
</html>
